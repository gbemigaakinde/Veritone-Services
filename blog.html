<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog | Veritone Services</title>
    <meta name="description" content="Insights on politics, business, lifestyle, writing, and communication mastery.">
    
    <link rel="icon" href="veritone.PNG" type="image/png" sizes="32x32">
    <link rel="apple-touch-icon" href="veritone.PNG" sizes="180x180">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0F172A',
                        accent: '#6366F1',
                        teal: '#14B8A6',
                        light: '#F8FAFC',
                        gray: '#64748B',
                        dark: '#0F172A',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        heading: ['Playfair Display', 'serif'],
                    },
                },
            },
        }
    </script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
        import { getDatabase, ref, onValue, push, set, remove, update } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-database.js";
        import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAPWGMvFPGnvsR6X5hIK9DSjsU4qBcgBQI",
            authDomain: "blog-433e0.firebaseapp.com",
            projectId: "blog-433e0",
            storageBucket: "blog-433e0.firebasestorage.app",
            messagingSenderId: "684484389932",
            appId: "1:684484389932:web:0ed91d1a219ab855a2f589",
            measurementId: "G-XL2HBHXR94"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const auth = getAuth(app);
    </script>
    <style>
        body { background-color: #FFFFFF; color: #1E293B; font-family: 'Inter', sans-serif; }
        h1, h2, h3 { font-family: 'Playfair Display', serif; color: #0F172A; }
        .glass {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.25);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
        }
        .animate-on-scroll { opacity: 0; transform: translateY(60px); transition: all 0.8s ease-out; }
        .animate-on-scroll.visible { opacity: 1; transform: translateY(0); }
    </style>
</head>
<body class="antialiased">

    <!-- Navigation -->
    <nav class="fixed top-0 w-full glass backdrop-blur-md z-50 border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-6 py-5 flex justify-between items-center">
            <a href="../index.html" class="text-3xl font-heading font-bold text-primary">Veritone</a>
            <ul class="hidden md:flex space-x-10">
                <li><a href="../index.html">Home</a></li>
                <li><a href="blog.html" class="text-accent font-semibold">Blog</a></li>
                <!-- Add other links -->
            </ul>
        </div>
    </nav>

    <!-- Hero -->
    <section class="pt-32 pb-20 bg-light text-center">
        <div class="max-w-5xl mx-auto px-6">
            <h1 class="text-5xl md:text-6xl font-heading font-bold text-primary mb-6">Veritone Blog</h1>
            <p class="text-2xl text-gray">Insights on politics, business, lifestyle, writing, and communication mastery.</p>
        </div>
    </section>

    <!-- Blog Content -->
    <div x-data="blogApp()" class="py-12">
        <div class="max-w-7xl mx-auto px-6">
            <!-- Category Tabs -->
            <div class="flex justify-center gap-4 mb-12">
                <button @click="filter = 'all'" :class="filter === 'all' ? 'bg-accent text-white' : 'bg-light'" class="px-6 py-2 rounded-full">All</button>
                <template x-for="cat in categories">
                    <button @click="filter = cat" :class="filter === cat ? 'bg-accent text-white' : 'bg-light'" class="px-6 py-2 rounded-full" x-text="cat"></button>
                </template>
            </div>

            <!-- Posts Grid -->
            <div class="grid md:grid-cols-3 gap-12" x-show="view === 'home'">
                <template x-for="post in filteredPosts" :key="post.id">
                    <div class="glass rounded-2xl overflow-hidden cursor-pointer animate-on-scroll" @click="showPost(post)">
                        <img :src="post.image" alt="" class="w-full h-64 object-cover">
                        <div class="p-6">
                            <span class="text-sm text-accent" x-text="post.category"></span>
                            <h3 class="text-2xl font-heading font-bold mt-2" x-text="post.title"></h3>
                            <p class="text-gray mt-2" x-text="post.excerpt"></p>
                            <div class="flex items-center mt-4">
                                <img :src="post.authorPhoto" alt="" class="w-10 h-10 rounded-full">
                                <div class="ml-3">
                                    <p class="text-sm font-medium" x-text="post.author"></p>
                                    <p class="text-xs text-gray" x-text="post.date"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </template>
            </div>

            <!-- Single Post View -->
            <div x-show="view === 'post'" class="max-w-4xl mx-auto">
                <button @click="view = 'home'" class="text-accent mb-6">&larr; Back to Blog</button>
                <div class="glass p-12 rounded-3xl">
                    <img :src="currentPost.image" alt="" class="w-full h-96 object-cover rounded-xl mb-8">
                    <h1 class="text-5xl font-heading font-bold mb-6" x-text="currentPost.title"></h1>
                    <div class="flex items-center mb-8">
                        <img :src="currentPost.authorPhoto" alt="" class="w-16 h-16 rounded-full">
                        <div class="ml-4">
                            <p class="font-medium" x-text="currentPost.author"></p>
                            <p class="text-gray text-sm" x-text="currentPost.date + ' â€¢ ' + currentPost.readTime"></p>
                        </div>
                    </div>
                    <div class="prose max-w-none" x-html="currentPost.content"></div>
                    <div class="mt-12 flex gap-4">
                        <span x-for="tag in currentPost.tags" class="bg-accent/10 text-accent px-3 py-1 rounded-full" x-text="tag"></span>
                    </div>
                </div>
            </div>

            <!-- Admin Login (Hidden) -->
            <div x-show="showAdminLogin" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
                <div class="glass p-12 rounded-3xl w-full max-w-md">
                    <h2 class="text-3xl font-heading font-bold mb-6">Admin Login</h2>
                    <input type="email" x-model="email" placeholder="Email" class="w-full p-4 mb-4 border rounded-xl">
                    <input type="password" x-model="password" placeholder="Password" class="w-full p-4 mb-4 border rounded-xl">
                    <button @click="login" class="bg-accent text-white w-full py-4 rounded-full">Login</button>
                    <button @click="showAdminLogin = false" class="mt-4 text-gray">Cancel</button>
                </div>
            </div>

            <!-- Admin Dashboard -->
            <div x-show="isAdmin && view === 'admin'" class="max-w-4xl mx-auto">
                <h2 class="text-4xl font-heading font-bold mb-8">Admin Dashboard</h2>
                <form @submit.prevent="addPost">
                    <input type="text" x-model="newPost.title" placeholder="Title" class="w-full p-4 mb-4 border rounded-xl" required>
                    <textarea x-model="newPost.content" placeholder="Content (HTML)" rows="10" class="w-full p-4 mb-4 border rounded-xl" required></textarea>
                    <input type="text" x-model="newPost.author" placeholder="Author Name" class="w-full p-4 mb-4 border rounded-xl" required>
                    <input type="text" x-model="newPost.authorBio" placeholder="Author Bio" class="w-full p-4 mb-4 border rounded-xl">
                    <input type="text" x-model="newPost.authorPhoto" placeholder="Author Photo URL" class="w-full p-4 mb-4 border rounded-xl">
                    <select x-model="newPost.category" class="w-full p-4 mb-4 border rounded-xl">
                        <option value="">Select Category</option>
                        <option value="Politics">Politics</option>
                        <option value="Business">Business/Finance</option>
                        <option value="Lifestyle">Lifestyle</option>
                        <option value="Writing">Writing/Books</option>
                        <option value="Communication">Communication</option>
                    </select>
                    <input type="text" x-model="newPost.tags" placeholder="Tags (comma separated)" class="w-full p-4 mb-4 border rounded-xl">
                    <input type="text" x-model="newPost.image" placeholder="Featured Image URL" class="w-full p-4 mb-4 border rounded-xl" required>
                    <button type="submit" class="bg-accent text-white px-10 py-5 rounded-full">Publish Post</button>
                </form>
                <!-- List of existing posts for edit/delete -->
            </div>
        </div>
    </div>

    <script>
        function blogApp() {
            return {
                posts: [],
                filteredPosts: [],
                currentPost: null,
                filter: 'all',
                view: 'home',
                isAdmin: false,
                showAdminLogin: false,
                email: '',
                password: '',
                newPost: {
                    title: '',
                    content: '',
                    author: '',
                    authorBio: '',
                    authorPhoto: '',
                    category: '',
                    tags: '',
                    image: '',
                    date: new Date().toLocaleDateString(),
                    readTime: '5 min'
                },
                categories: ['Politics', 'Business', 'Lifestyle', 'Writing', 'Communication'],

                async init() {
                    // Load posts from Firebase
                    onValue(ref(db, 'posts'), (snapshot) => {
                        const data = snapshot.val();
                        this.posts = data ? Object.values(data) : [];
                        this.filterPosts();
                    });

                    // Check auth
                    onAuthStateChanged(auth, (user) => {
                        this.isAdmin = !!user;
                    });
                },

                filterPosts() {
                    if (this.filter === 'all') {
                        this.filteredPosts = [...this.posts];
                    } else {
                        this.filteredPosts = this.posts.filter(p => p.category === this.filter);
                    }
                },

                showPost(post) {
                    this.currentPost = post;
                    this.view = 'post';
                },

                async login() {
                    try {
                        await signInWithEmailAndPassword(auth, this.email, this.password);
                        this.showAdminLogin = false;
                        this.view = 'admin';
                    } catch (error) {
                        alert('Login failed: ' + error.message);
                    }
                },

                async addPost() {
                    const newKey = push(ref(db, 'posts')).key;
                    await set(ref(db, 'posts/' + newKey), this.newPost);
                    this.newPost = { /* reset form */ };
                    alert('Post published!');
                }
            }
        }
    </script>

</body>
</html>
